<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>הזמנה בקליק - מותאם</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        /* הוסף כאן את ה-CSS הקיים שלך */
        .main-container {
            /* הסגנונות הקיימים שלך */
        }
        /* סגנונות נוספים לחלון הקופץ */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .popup-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 300px;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <img src="logo.png" alt="לוגו החברה" class="logo">

        <div>
            <button>הזמנה רגילה</button>
            <button>הזמנה מיוחדת</button>
        </div>

        <div id="specialOrderOptions">
            <div class="checkbox-container">
                <input type="checkbox" id="regularOrder">
                <label for="regularOrder">אנא תשלחו את ההזמנה הרגילה</label>
            </div>
            <div class="checkbox-container">
                <input type="checkbox" id="snackOrder">
                <label for="snackOrder">הוסיפו לי 10 חטיפים במבצע של 90 שקלים</label>
            </div>
            <div class="checkbox-container">
                <input type="checkbox" id="catFoodOrder">
                <label for="catFoodOrder">הוסיפו לי 11 שימורים לחתול ב 60 שקלים</label>
            </div>
            <button>שלח הזמנה מיוחדת</button>
        </div>

        <div id="fallbackLink" style="display: none;">
            אם הלינק לא נפתח אוטומטית, <a href="#" id="manualLink">לחץ כאן</a> לפתיחה ידנית
        </div>

        <div id="installPrompt" style="display: none;">
            הוסף למסך הבית
        </div>

        <div id="tipSection">
            <h3>טיפ וטריק</h3>
        </div>

        <!-- כאן נוסיף את הקומפוננטה החדשה -->
        <div id="addToHomePopup"></div>
    </div>

    <script type="text/babel">
        const AddToHomePopup = () => {
            const [isVisible, setIsVisible] = React.useState(false);
            const [selectedPlatform, setSelectedPlatform] = React.useState('');

            React.useEffect(() => {
                const timer = setTimeout(() => setIsVisible(true), 2000);
                return () => clearTimeout(timer);
            }, []);

            const handleClose = () => setIsVisible(false);

            const handleAdd = () => {
                if (selectedPlatform === 'android') {
                    console.log('הוספה לאנדרואיד');
                } else if (selectedPlatform === 'ios') {
                    console.log('הוספה לאייפון');
                }
                handleClose();
            };

            if (!isVisible) return null;

            return (
                <div className="popup-overlay">
                    <div className="popup-content">
                        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px'}}>
                            <h2 style={{margin: 0}}>הוסף למסך הבית</h2>
                            <button onClick={handleClose} style={{background: 'none', border: 'none', cursor: 'pointer'}}>
                                <lucide-icon name="x" />
                            </button>
                        </div>
                        <p>האם תרצה להוסיף את האפליקציה למסך הבית?</p>
                        <div style={{display: 'flex', justifyContent: 'center', gap: '10px', marginBottom: '10px'}}>
                            <button
                                onClick={() => setSelectedPlatform('android')}
                                style={{
                                    padding: '5px 10px',
                                    background: selectedPlatform === 'android' ? 'blue' : 'lightgray',
                                    color: selectedPlatform === 'android' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                            >
                                אנדרואיד
                            </button>
                            <button
                                onClick={() => setSelectedPlatform('ios')}
                                style={{
                                    padding: '5px 10px',
                                    background: selectedPlatform === 'ios' ? 'blue' : 'lightgray',
                                    color: selectedPlatform === 'ios' ? 'white' : 'black',
                                    border: 'none',
                                    borderRadius: '5px',
                                    cursor: 'pointer'
                                }}
                            >
                                אייפון
                            </button>
                        </div>
                        <button
                            onClick={handleAdd}
                            disabled={!selectedPlatform}
                            style={{
                                width: '100%',
                                padding: '10px',
                                background: selectedPlatform ? 'green' : 'lightgray',
                                color: selectedPlatform ? 'white' : 'gray',
                                border: 'none',
                                borderRadius: '5px',
                                cursor: selectedPlatform ? 'pointer' : 'not-allowed'
                            }}
                        >
                            הוסף
                        </button>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<AddToHomePopup />, document.getElementById('addToHomePopup'));
    </script>
</body>
</html>
